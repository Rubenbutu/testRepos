{"version":3,"sources":["webpack:///./src/assets/icon-sociale.png","webpack:///./src/assets/icone-croix-rouge.png","webpack:///./src/pages/admin/nouvel-alerte.vue?d66c","webpack:///src/pages/admin/nouvel-alerte.vue","webpack:///./src/pages/admin/nouvel-alerte.vue?3a72","webpack:///./src/pages/admin/nouvel-alerte.vue","webpack:///./src/assets/icone-police.png","webpack:///./src/assets/icone-pompier.png"],"names":["module","exports","render","_vm","this","_h","$createElement","_c","_self","staticClass","_m","is_doing_action","staticStyle","_v","_s","action_message","attrs","on","doActionAlert","staticRenderFns","ascIcon","descIcon","data","constants","computed","methods","getUserLocalisation","onDone","message","alert","type","title","text","$swal","navigator","geolocation","getCurrentPosition","onSuccess","onError","component"],"mappings":"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","file":"js/chunk-0ecf443e.d1ac4b0f.js","sourcesContent":["module.exports = __webpack_public_path__ + \"img/icon-sociale.9c80530c.png\";","module.exports = \"data:image/png;base64,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\"","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"d-flex justify-content-center align-items-center\"},[_c('div',{staticClass:\" text-center  \"},[_vm._m(0),(!_vm.is_doing_action)?_c('div',[_c('div',{staticClass:\"row\"},[_c('div',{staticClass:\"col-6 mb-4\"},[_c('button',{staticClass:\"btn btn-lg btn-outline-primary\",staticStyle:{\"width\":\"170px\",\"height\":\"170px\",\"border-radius\":\"50%\"},attrs:{\"type\":\"button\"},on:{\"click\":function () { return _vm.doActionAlert(1); }}},[_c('img',{staticStyle:{\"width\":\"80px\",\"height\":\"auto\"},attrs:{\"src\":require(\"@/assets/icone-police.png\"),\"alt\":\"logo\"}}),_c('br'),_c('br'),_vm._v(\" Alerte Police \")])]),_c('div',{staticClass:\"col-6 mb-4\"},[_c('button',{staticClass:\"btn btn-lg btn-outline-danger\",staticStyle:{\"width\":\"170px\",\"height\":\"170px\",\"border-radius\":\"50%\"},attrs:{\"type\":\"button\"},on:{\"click\":function () { return _vm.doActionAlert(4); }}},[_c('img',{staticStyle:{\"width\":\"80px\",\"height\":\"auto\"},attrs:{\"src\":require(\"@/assets/icone-croix-rouge.png\"),\"alt\":\"logo\"}}),_c('br'),_c('br'),_vm._v(\" Alerte Croix-Rouge \")])]),_c('div',{staticClass:\"col-6 mb-4\"},[_c('button',{staticClass:\"btn btn-lg btn-outline-warning\",staticStyle:{\"width\":\"170px\",\"height\":\"170px\",\"border-radius\":\"50%\"},attrs:{\"type\":\"button\"},on:{\"click\":function () { return _vm.doActionAlert(2); }}},[_c('img',{staticStyle:{\"width\":\"80px\",\"height\":\"auto\"},attrs:{\"src\":require(\"@/assets/icone-pompier.png\"),\"alt\":\"logo\"}}),_c('br'),_c('br'),_vm._v(\" Alerte Pompier \")])]),_c('div',{staticClass:\"col-6 mb-4\"},[_c('button',{staticClass:\"btn btn-lg btn-outline-dark\",staticStyle:{\"width\":\"170px\",\"height\":\"170px\",\"border-radius\":\"50%\"},attrs:{\"type\":\"button\"},on:{\"click\":function () { return _vm.doActionAlert(3); }}},[_c('img',{staticStyle:{\"width\":\"80px\",\"height\":\"auto\"},attrs:{\"src\":require(\"@/assets/icon-sociale.png\"),\"alt\":\"logo\"}}),_c('br'),_c('br'),_vm._v(\" Alerte Sociale \")])])])]):_c('div',[_c('div',[_c('span',{staticClass:\"spinner spinner-border spinner-border-lg\",staticStyle:{\"width\":\"120px\",\"height\":\"120px\"}}),_c('p',{staticClass:\"mt-4\"},[_vm._v(_vm._s(_vm.action_message))])])])])])}\nvar staticRenderFns = [function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"mb-5 pb-4\"},[_c('h4',[_vm._v(\"Nouvelle Alerte\")])])}]\n\nexport { render, staticRenderFns }","<script>\r\nimport Vue from \"vue\";\r\nimport SortedTablePlugin from \"vue-sorted-table\";\r\nimport functions from \"../../util/functions.js\";\r\nimport constants from \"../../util/constants\";\r\nimport { mapState } from \"vuex\";\r\n\r\n\r\nVue.use(SortedTablePlugin, {\r\n  ascIcon: '<i class=\"mdi mdi-arrow-down\"></i>',\r\n  descIcon: '<i class=\"mdi mdi-arrow-up\"></i>',\r\n});\r\n\r\nexport default {\r\n  data: function () {\r\n    return {\r\n      constants,\r\n      action_message : \"\",\r\n      is_doing_action : false\r\n    };\r\n  },\r\n  async created() {\r\n  },\r\n  computed: {\r\n    ...mapState([\r\n      \"is_connected\",\r\n      \"nom_utilisateur\",\r\n      \"id_utilisateur\",\r\n      \"est_admin\",\r\n    ]),\r\n  },\r\n  methods: {\r\n    ...functions,\r\n    getUserLocalisation(onDone) {\r\n      this.action_message = \"Localisation en cours\";\r\n      this.is_doing_action = true;\r\n      let onSuccess = (position) => {\r\n        let latitude = position.coords.latitude\r\n        let longitude = position.coords.longitude\r\n        //alert(\"Latitude : \" + latitude +  \".\\n Longitude : \" + longitude)\r\n        this.is_doing_action = false;\r\n        if(onDone) {\r\n          onDone({latitude, longitude})\r\n        }\r\n      }\r\n      let onError = (error) => {\r\n        this.is_doing_action = false;\r\n        let message = \"\";\r\n        if(error.code == error.PERMISSION_DENIED) {\r\n          message = \"Autorisation refusée\"\r\n        } else if(error.code == error.POSITION_UNAVAILABLE) {\r\n          message = \"Les informations de localisation sont indisponibles\"\r\n        } else if(error.code == error.TIMEOUT) {\r\n          message = \"La demande de localisation a expirée\"\r\n        } else if(error.code == error.UNKNOWN_ERROR) {\r\n          message = \"Une erreur inconnue s'est produite\"\r\n        }\r\n        if(message!=\"\") {\r\n          alert(message)\r\n          this.$swal({\r\n            type: \"error\",\r\n            title: \"Erreur\",\r\n            text: message,\r\n            //footer: '<a href>Why do I have this issue?</a>'\r\n          });\r\n        }\r\n      }\r\n      if(navigator.geolocation) {\r\n        navigator.geolocation.getCurrentPosition(onSuccess, onError)\r\n      } else {\r\n        alert(\"La géolocalisation est désactivée. Veuillez la réactiver\")\r\n        this.$swal({\r\n          type: \"error\",\r\n          title: \"Géolocalisation désactivée\",\r\n          text: \"La géolocalisation est désactivée. Veuillez la réactiver\",\r\n          //footer: '<a href>Why do I have this issue?</a>'\r\n        });\r\n        return ;\r\n      }\r\n    },\r\n    async doCreateAlert(position, idService) {     \r\n      this.action_message = \"Enregistrement en cours\";\r\n      this.is_doing_action = true;\r\n\r\n      let url = this.constants.api_url + \"/alert/\" ;\r\n      let response = null;\r\n\r\n      try {\r\n        response = await fetch(url, {\r\n          method: \"post\",\r\n          cache: \"no-cache\",\r\n          headers  : {\r\n            \"Content-Type\" : \"application/json\"\r\n          },\r\n          //mode : \"cors\",\r\n          body: JSON.stringify({\r\n            service_id : idService,\r\n            user_id : this.id_utilisateur,\r\n            latitude : position.latitude,\r\n            longitude : position.longitude,\r\n            //ville : \"\",\r\n            //commune : \"\",\r\n            //quartier : \"\",\r\n            //status : \"1\",\r\n            //created_at : this.getISODateTimeString(new Date())\r\n          }),\r\n          //credentials: \"include\",\r\n        });\r\n      } catch (e) {\r\n        this.$swal({\r\n          type: \"error\",\r\n          title: \"La connexion au serveur a échoué\",\r\n          text: e.message,\r\n          //footer: '<a href>Why do I have this issue?</a>'\r\n        });\r\n        return;\r\n      }\r\n      let data = await response.json();\r\n      if (data.success == true) {\r\n        this.$swal({\r\n          type: \"success\",\r\n          title: \"Effectué\",\r\n          text: \"L'alerte a été envoyée avec succès\",\r\n          //footer: '<a href>Why do I have this issue?</a>'\r\n        });\r\n      }  else {\r\n        this.$swal({\r\n          type: \"error\",\r\n          title: \"Une erreur est survenue\",\r\n          text: \"Message : \" + data.message,\r\n          //footer: '<a href>Why do I have this issue?</a>'\r\n        });\r\n      }\r\n      this.is_doing_action = false;\r\n    },\r\n    async doActionAlert(idService)\r\n    {\r\n      let res = await this.$swal({\r\n        title: \"Confirmer ?\",\r\n        text: \"Confirmez-vous l'envoi de l'alerte ?\",\r\n        type: \"question\",\r\n        showCancelButton: true,\r\n        confirmButtonColor: \"#3a3\",\r\n        cancelButtonColor: \"#3085d6\",\r\n        confirmButtonText: \"Confirmer\",\r\n        cancelButtonText: \"Annuler\",\r\n      });\r\n      if (!res.value) {\r\n        return;\r\n      }\r\n      this.getUserLocalisation((position) => this.doCreateAlert(position, idService))\r\n    }\r\n  },\r\n};\r\n</script>\r\n\r\n\r\n\r\n<template>\r\n  <div class=\"d-flex justify-content-center align-items-center\">\r\n\r\n    <div class=\" text-center  \">\r\n      <div class=\"mb-5 pb-4\">\r\n        <h4>Nouvelle Alerte</h4>\r\n      </div>\r\n\r\n      <div v-if=\"!is_doing_action\">\r\n        <div class=\"row\">\r\n          <div class=\"col-6 mb-4\">\r\n            <button style=\"width:170px;height : 170px; border-radius: 50%;\" class=\"btn btn-lg btn-outline-primary\"\r\n              type=\"button\" @click=\"() => doActionAlert(1)\" >\r\n\r\n              <img src=\"@/assets/icone-police.png\" style=\"width: 80px; height: auto\" alt=\"logo\" />\r\n              <br />\r\n              <br />\r\n\r\n              Alerte Police\r\n            </button>\r\n          </div>\r\n\r\n          <div class=\"col-6 mb-4\">\r\n            <button style=\"width:170px;height : 170px; border-radius: 50%;\" class=\"btn btn-lg btn-outline-danger\"\r\n              type=\"button\"  @click=\"() => doActionAlert(4)\">\r\n\r\n              <img src=\"@/assets/icone-croix-rouge.png\" style=\"width: 80px; height: auto\" alt=\"logo\" />\r\n              <br />\r\n              <br />\r\n\r\n              Alerte Croix-Rouge\r\n            </button>\r\n          </div>\r\n\r\n\r\n\r\n\r\n          <div class=\"col-6 mb-4\">\r\n            <button style=\"width:170px;height : 170px; border-radius: 50%;\" class=\"btn btn-lg btn-outline-warning\"\r\n              type=\"button\"  @click=\"() => doActionAlert(2)\">\r\n\r\n              <img src=\"@/assets/icone-pompier.png\" style=\"width: 80px; height: auto\" alt=\"logo\" />\r\n              <br />\r\n              <br />\r\n\r\n            Alerte Pompier\r\n            </button>\r\n          </div>\r\n\r\n          <div class=\"col-6 mb-4\">\r\n            <button style=\"width:170px;height : 170px; border-radius: 50%;\" class=\"btn btn-lg btn-outline-dark\"\r\n              type=\"button\"  @click=\"() => doActionAlert(3)\">\r\n\r\n              <img src=\"@/assets/icon-sociale.png\" style=\"width: 80px; height: auto\" alt=\"logo\" />\r\n              <br />\r\n              <br />\r\n\r\n              Alerte Sociale\r\n            </button>\r\n          </div>\r\n        </div>\r\n      </div>\r\n      <div v-else>\r\n        <div>\r\n          <span style=\"width: 120px; height: 120px;\" class=\"spinner spinner-border spinner-border-lg\"></span>\r\n          <p class=\"mt-4\">{{action_message}}</p>\r\n        </div>\r\n      </div>\r\n      \r\n    </div>\r\n  </div>\r\n</template>","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./nouvel-alerte.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./nouvel-alerte.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./nouvel-alerte.vue?vue&type=template&id=671fdb6a&\"\nimport script from \"./nouvel-alerte.vue?vue&type=script&lang=js&\"\nexport * from \"./nouvel-alerte.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","module.exports = __webpack_public_path__ + \"img/icone-police.8e278d8d.png\";","module.exports = __webpack_public_path__ + \"img/icone-pompier.514ea757.png\";"],"sourceRoot":""}