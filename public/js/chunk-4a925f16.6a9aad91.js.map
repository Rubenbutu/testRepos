{"version":3,"sources":["webpack:///./src/components/app-forms/DecesComponent.vue?5e30","webpack:///./src/components/app-forms/DecesComponent.vue?68ba","webpack:///src/components/app-forms/DecesComponent.vue","webpack:///./src/components/app-forms/DecesComponent.vue?b4ab","webpack:///./src/components/app-forms/DecesComponent.vue?085b"],"names":["render","_vm","this","_h","$createElement","_c","_self","staticClass","_v","_s","add_mode","attrs","name","_m","is_loading_decess","_e","loading_message","is_doing_action","model","value","deces","callback","$$v","$set","expression","directives","rawName","on","$event","$$selectedVal","Array","prototype","filter","call","target","options","o","selected","map","val","_value","multiple","domProps","doAddDeces","doEditDeces","staticRenderFns","props","type","Boolean","required","methods","verifierChargement","nbr_charges","nbr_total_chargements","onImageAdded","images","onImageUpdated","index","image","onImageDeleted","verifierDeces","undefined","nom_defunt","message","$swal","title","text","status","onProfilImageChange","filename","preview_img","preview_img_base64","ifile","file","reader","onload","readAsDataURL","deleteImage","profile_image_changed","getImgObjModel","description","id_deces","code_contexte","nom_fichier","id_image","data","constants","sortBy","perPage","currentPage","sortDesc","sortByFormatted","filterByFormatted","sortable","mouvements_deces","utilisateur","fields","listCollections","id","postnom_defunt","prenom_defunt","sexe_defunt","lieu_naissance_defunt","date_naissance_defunt","proffesion_defunt","etat_civil_defunt","nom_conjoint","date_deces","nom_pere","lieu_naissance_pere","date_naissance_pere","proffesion_pere","nationalite_pere","nom_mere","lieu_naissance_mere","date_naissance_mere","proffesion_mere","nationalite_mere","default_deces","img_profil","components","DatePicker","component"],"mappings":"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","file":"js/chunk-4a925f16.6a9aad91.js","sourcesContent":["import mod from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./DecesComponent.vue?vue&type=style&index=0&id=8057e7c8&scoped=true&lang=css&\"; export default mod; export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./DecesComponent.vue?vue&type=style&index=0&id=8057e7c8&scoped=true&lang=css&\"","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('section',{staticClass:\"news-grid mt-5\"},[_c('div',{staticClass:\"page-header\"},[_c('h3',{staticClass:\"page-title\"},[_vm._v(\" \"+_vm._s(_vm.add_mode ? \"Enregistrer un decès\" : \"Editer un decès\")+\" \")]),_c('nav',{attrs:{\"aria-label\":\"breadcrumb\"}},[_c('ol',{staticClass:\"breadcrumb\"},[_c('li',{staticClass:\"breadcrumb-item\"},[_c('router-link',{attrs:{\"to\":{ name: 'dashboard' }}},[_vm._v(\"Dec7s\")])],1),_c('li',{staticClass:\"breadcrumb-item active\",attrs:{\"aria-current\":\"page\"}},[_vm._v(\" \"+_vm._s(_vm.add_mode ? \"Enregistrer un decès\" : \"Editerun decès\")+\" \")])])])]),(_vm.is_loading_decess)?_c('div',{staticClass:\"mt-5 pt-4\"},[_vm._m(0)]):(!_vm.is_loading_decess)?_c('div',{staticClass:\"row mt-5\"},[_c('div',{staticClass:\"col-md-12\"},[(_vm.is_doing_action)?_c('div',{staticClass:\"card mb-3\"},[_c('div',{staticClass:\"card-body\"},[_c('div',{staticClass:\"circle-loader\"}),_c('p',{staticClass:\"text-center mt-4\"},[_vm._v(_vm._s(_vm.loading_message))])])]):_vm._e(),_c('div',{staticClass:\"card mb-4\"},[_c('div',{staticClass:\"card-body\"},[_c('div',{staticClass:\"row\"},[_c('div',{staticClass:\"col-md-7\"},[_c('fieldset',{staticClass:\"mt-4\",attrs:{\"disabled\":_vm.is_doing_action}},[_c('b-form-group',{attrs:{\"label\":\"Nom du defunt :\",\"label-for\":\"nom\"}},[_c('b-form-input',{staticClass:\"mb-3\",attrs:{\"type\":\"text\",\"id\":\"nom\",\"placeholder\":\"Nom\"},model:{value:(_vm.deces.nom_defunt),callback:function ($$v) {_vm.$set(_vm.deces, \"nom_defunt\", $$v)},expression:\"deces.nom_defunt\"}})],1),_c('b-form-group',{attrs:{\"label\":\"Postnom du defunt :\"}},[_c('b-form-input',{staticClass:\"mb-3\",attrs:{\"type\":\"text\",\"placeholder\":\"Postnom du defunt\"},model:{value:(_vm.deces.postnom_defunt),callback:function ($$v) {_vm.$set(_vm.deces, \"postnom_defunt\", $$v)},expression:\"deces.postnom_defunt\"}})],1),_c('b-form-group',{attrs:{\"label\":\"Prénom du defunt :\"}},[_c('b-form-input',{staticClass:\"mb-3\",attrs:{\"type\":\"text\",\"placeholder\":\"Postnom du defunt\"},model:{value:(_vm.deces.prenom_defunt),callback:function ($$v) {_vm.$set(_vm.deces, \"prenom_defunt\", $$v)},expression:\"deces.prenom_defunt\"}})],1),_c('b-form-group',{attrs:{\"label\":\"Sexe :\",\"label-for\":\"sexe_defun\"}},[_c('select',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.deces.sexe_defunt),expression:\"deces.sexe_defunt\"}],staticClass:\"form-control\",attrs:{\"id\":\"sexe_defunt\"},on:{\"change\":function($event){var $$selectedVal = Array.prototype.filter.call($event.target.options,function(o){return o.selected}).map(function(o){var val = \"_value\" in o ? o._value : o.value;return val}); _vm.$set(_vm.deces, \"sexe_defunt\", $event.target.multiple ? $$selectedVal : $$selectedVal[0])}}},[_c('option',{domProps:{\"value\":'Masculin'}},[_vm._v(\"Masculin\")]),_c('option',{domProps:{\"value\":'Feminin'}},[_vm._v(\"Féminin\")])])]),_c('b-form-group',{attrs:{\"label\":\"Etat civil du defunt :\",\"label-for\":\"etatc_defunt\"}},[_c('select',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.deces.etat_civil_defunt),expression:\"deces.etat_civil_defunt\"}],staticClass:\"form-control\",attrs:{\"id\":\"etatc_defunt\"},on:{\"change\":function($event){var $$selectedVal = Array.prototype.filter.call($event.target.options,function(o){return o.selected}).map(function(o){var val = \"_value\" in o ? o._value : o.value;return val}); _vm.$set(_vm.deces, \"etat_civil_defunt\", $event.target.multiple ? $$selectedVal : $$selectedVal[0])}}},[_c('option',{domProps:{\"value\":'Celibataire'}},[_vm._v(\"Célibataire\")]),_c('option',{domProps:{\"value\":'Epoux'}},[_vm._v(\"Marié\")])])]),_c('b-form-group',{attrs:{\"label\":\"Lieu de naissance du defunt :\"}},[_c('b-form-input',{staticClass:\"mb-3\",attrs:{\"type\":\"text\",\"placeholder\":\"Lieu de naissance du defunt\"},model:{value:(_vm.deces.lieu_naissance_defunt),callback:function ($$v) {_vm.$set(_vm.deces, \"lieu_naissance_defunt\", $$v)},expression:\"deces.lieu_naissance_defunt\"}})],1),_c('b-form-group',{attrs:{\"label\":\"Date de naissance du défunt :\",\"label-for\":\"date_naissance\"}},[_c('date-picker',{attrs:{\"valueType\":\"format\",\"placeholder\":\"Date de naissance du defunt\"},model:{value:(_vm.deces.date_naissance_defunt),callback:function ($$v) {_vm.$set(_vm.deces, \"date_naissance_defunt\", $$v)},expression:\"deces.date_naissance_defunt\"}})],1),_c('b-form-group',{attrs:{\"label\":\"Profession du defunt :\"}},[_c('b-form-input',{staticClass:\"mb-3\",attrs:{\"type\":\"text\",\"placeholder\":\"Profession du defunt\"},model:{value:(_vm.deces.proffesion_defunt),callback:function ($$v) {_vm.$set(_vm.deces, \"proffesion_defunt\", $$v)},expression:\"deces.proffesion_defunt\"}})],1),_c('b-form-group',{attrs:{\"label\":\"Nom du conjoint du defunt :\"}},[_c('b-form-input',{staticClass:\"mb-3\",attrs:{\"type\":\"text\",\"placeholder\":\"Conjoint du defunt\"},model:{value:(_vm.deces.nom_conjoint),callback:function ($$v) {_vm.$set(_vm.deces, \"nom_conjoint\", $$v)},expression:\"deces.nom_conjoint\"}})],1),_c('b-form-group',{attrs:{\"label\":\"Date du decès du défunt :\",\"label-for\":\"date_naissance\"}},[_c('date-picker',{attrs:{\"valueType\":\"format\",\"placeholder\":\"Date de decès du defunt\"},model:{value:(_vm.deces.date_deces),callback:function ($$v) {_vm.$set(_vm.deces, \"date_deces\", $$v)},expression:\"deces.date_deces\"}})],1),_c('b-form-group',{attrs:{\"label\":\"Nom du père du defunt :\"}},[_c('b-form-input',{staticClass:\"mb-3\",attrs:{\"type\":\"text\",\"placeholder\":\"Nom du père du defunt\"},model:{value:(_vm.deces.nom_pere),callback:function ($$v) {_vm.$set(_vm.deces, \"nom_pere\", $$v)},expression:\"deces.nom_pere\"}})],1),_c('b-form-group',{attrs:{\"label\":\"Lieu de naissance du père du defunt :\"}},[_c('b-form-input',{staticClass:\"mb-3\",attrs:{\"type\":\"text\",\"placeholder\":\"Lieu de naissance du père du defunt\"},model:{value:(_vm.deces.lieu_naissance_pere),callback:function ($$v) {_vm.$set(_vm.deces, \"lieu_naissance_pere\", $$v)},expression:\"deces.lieu_naissance_pere\"}})],1),_c('b-form-group',{attrs:{\"label\":\"Date de naissance du pere du défunt :\",\"label-for\":\"date_naissance\"}},[_c('date-picker',{attrs:{\"valueType\":\"format\",\"placeholder\":\"Date de naissance du père du defunt\"},model:{value:(_vm.deces.date_naissance_pere),callback:function ($$v) {_vm.$set(_vm.deces, \"date_naissance_pere\", $$v)},expression:\"deces.date_naissance_pere\"}})],1),_c('b-form-group',{attrs:{\"label\":\"Profession du père du defunt :\"}},[_c('b-form-input',{staticClass:\"mb-3\",attrs:{\"type\":\"text\",\"placeholder\":\"Profession du père du defunt\"},model:{value:(_vm.deces.proffesion_pere),callback:function ($$v) {_vm.$set(_vm.deces, \"proffesion_pere\", $$v)},expression:\"deces.proffesion_pere\"}})],1),_c('b-form-group',{attrs:{\"label\":\"Nationalité du père du defunt :\"}},[_c('b-form-input',{staticClass:\"mb-3\",attrs:{\"type\":\"text\",\"placeholder\":\"Nationalité du père du defunt\"},model:{value:(_vm.deces.nationalite_pere),callback:function ($$v) {_vm.$set(_vm.deces, \"nationalite_pere\", $$v)},expression:\"deces.nationalite_pere\"}})],1),_c('b-form-group',{attrs:{\"label\":\"Nom de la mère du defunt :\"}},[_c('b-form-input',{staticClass:\"mb-3\",attrs:{\"type\":\"text\",\"placeholder\":\"Nom de la mère du defunt\"},model:{value:(_vm.deces.nom_mere),callback:function ($$v) {_vm.$set(_vm.deces, \"nom_mere\", $$v)},expression:\"deces.nom_mere\"}})],1),_c('b-form-group',{attrs:{\"label\":\"Lieu de naissance de la mère du defunt :\"}},[_c('b-form-input',{staticClass:\"mb-3\",attrs:{\"type\":\"text\",\"placeholder\":\"Lieu de naissance de la mère du defunt\"},model:{value:(_vm.deces.lieu_naissance_mere),callback:function ($$v) {_vm.$set(_vm.deces, \"lieu_naissance_mere\", $$v)},expression:\"deces.lieu_naissance_mere\"}})],1),_c('b-form-group',{attrs:{\"label\":\"Date de naissance de la mère du défunt :\",\"label-for\":\"date_naissance\"}},[_c('date-picker',{attrs:{\"valueType\":\"format\",\"placeholder\":\"Date de naissance de la mère du defunt\"},model:{value:(_vm.deces.date_naissance_mere),callback:function ($$v) {_vm.$set(_vm.deces, \"date_naissance_mere\", $$v)},expression:\"deces.date_naissance_mere\"}})],1),_c('b-form-group',{attrs:{\"label\":\"Profession de la mère du defunt :\"}},[_c('b-form-input',{staticClass:\"mb-3\",attrs:{\"type\":\"text\",\"placeholder\":\"Profession de la mère du defunt\"},model:{value:(_vm.deces.proffesion_mere),callback:function ($$v) {_vm.$set(_vm.deces, \"proffesion_mere\", $$v)},expression:\"deces.proffesion_mere\"}})],1),_c('b-form-group',{attrs:{\"label\":\"Nationalité de la mère du defunt :\"}},[_c('b-form-input',{staticClass:\"mb-3\",attrs:{\"type\":\"text\",\"placeholder\":\"Nationalité de la mère du defunt\"},model:{value:(_vm.deces.nationalite_mere),callback:function ($$v) {_vm.$set(_vm.deces, \"nationalite_mere\", $$v)},expression:\"deces.nationalite_mere\"}})],1),_c('b-button',{staticClass:\"mr-2 mt-4\",attrs:{\"type\":\"submit\",\"disabled\":_vm.is_doing_action,\"variant\":\"success\"},on:{\"click\":function($event){_vm.add_mode ? _vm.doAddDeces() : _vm.doEditDeces()}}},[_vm._v(_vm._s(_vm.add_mode ? \"Enregistrer le decès\" : \"Enregistrer les modifications apportées\"))])],1)])])])])])]):_vm._e()])}\nvar staticRenderFns = [function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"card\"},[_c('div',{staticClass:\"card-body\"},[_c('div',{staticClass:\"circle-loader\"}),_c('p',{staticClass:\"text-center mt-4\"},[_vm._v(\"Chargement de données en cours\")])])])}]\n\nexport { render, staticRenderFns }","<script>\r\nimport functions from \"../../util/functions.js\";\r\nimport constants from \"../../util/constants\";\r\nimport DatePicker from \"vue2-datepicker\";\r\n\r\nexport default {\r\n  props: {\r\n    add_mode: {\r\n      type: Boolean,\r\n      required: true,\r\n    },\r\n  },\r\n  methods: {\r\n    ...functions, \r\n    verifierChargement() {\r\n      this.nbr_charges += 1;\r\n      if (this.nbr_charges == this.nbr_total_chargements) {\r\n        this.is_loading_decess = false;\r\n      }\r\n    },\r\n    async loadDeces() {\r\n      let url =\r\n        this.constants.api_url +\r\n        \"/deces/\" +\r\n        encodeURIComponent(this.$route.params.id_deces);\r\n      let response = null;\r\n      try {\r\n        let headers = new Headers();\r\n        headers.append(\"Content-type\", \"application/x-www-form-urlencoded\");\r\n        \r\n        response = await fetch(url, {\r\n          method: \"get\",\r\n          cache: \"no-cache\",\r\n          headers \r\n        });\r\n      } catch (err) {\r\n        this.$swal({\r\n          type: \"error\",\r\n          title: \"La connexion au serveur a échoué\",\r\n          text: err.message,\r\n          //footer: '<a href>Why do I have this issue?</a>'\r\n        });\r\n        return;\r\n      }\r\n      let data = await response.json();\r\n      if (data.id ) {\r\n        this.deces = {\r\n            ...data,\r\n            // est_disponible :   data.deces.est_disponible == 1 ? true : false,\r\n            // est_en_promotion :   data.deces.est_en_promotion == 1 ? true : false,\r\n            // est_nouveau :   data.deces.est_nouveau == 1 ? true : false, \r\n        };\r\n      } else {\r\n        this.$swal({\r\n          type: \"error\",\r\n          title: \"Une erreur est survenue\",\r\n          text: \"Status : \" + data.status + \"<br/>Message : \" + data.message,\r\n          //footer: '<a href>Why do I have this issue?</a>'\r\n        });\r\n      }\r\n    },\r\n    async loadCollections() {\r\n      let url =\r\n        this.constants.api_url +\r\n        \"/collections/get.php\" ;\r\n      let response = null;\r\n      try {\r\n        let headers = new Headers();\r\n        headers.append(\"Content-type\", \"application/x-www-form-urlencoded\");\r\n        \r\n        response = await fetch(url, {\r\n          method: \"get\",\r\n          cache: \"no-cache\",\r\n          headers \r\n        });\r\n      } catch (err) {\r\n        this.$swal({\r\n          type: \"error\",\r\n          title: \"La connexion au serveur a échoué\",\r\n          text: err.message,\r\n          //footer: '<a href>Why do I have this issue?</a>'\r\n        });\r\n        return;\r\n      }\r\n      let data = await response.json();\r\n      if (data.status == \"SUCCESS\" && data.collections) {\r\n        this.listCollections = data.collections;\r\n      } else {\r\n        this.$swal({\r\n          type: \"error\",\r\n          title: \"Une erreur est survenue\",\r\n          text: \"Status : \" + data.status + \"<br/>Message : \" + data.message,\r\n          //footer: '<a href>Why do I have this issue?</a>'\r\n        });\r\n      }\r\n    },\r\n    onImageAdded(image) {\r\n      this.deces.images = [...this.deces.images, image];\r\n    },\r\n    onImageUpdated(image) {\r\n      let index = this.deces.images.findIndex(\r\n        (img) => img.id_image == image.id_image\r\n      );\r\n      if (index >= 0) {\r\n        this.deces.images[index] = image;\r\n      }\r\n    },\r\n    onImageDeleted(image) {\r\n      this.deces.images = this.deces.images.filter(\r\n        (img) => img.id_image != image.id_image\r\n      );\r\n    },\r\n    verifierDeces(deces) {\r\n      let message = \"\";\r\n      if (deces.nom_defunt == undefined || deces.nom_defunt == \"\") {\r\n        message = \"Veuillez entrer un nom correcte svp\";\r\n      } else if (deces.postnom_defunt == undefined || deces.postnom_defunt == \"\") {\r\n        message = \"Veuillez entrer un postnom correcte svp\";\r\n      }  else if (deces.prenom_defunt == undefined || deces.prenom_defunt == \"\") {\r\n        message = \"Veuillez entrer un prénom correcte svp\";\r\n      }  else if (deces.sexe_defunt == undefined || deces.sexe_defunt == \"\") {\r\n        message = \"Veuillez sélectionner un sexe svp\";\r\n      }  else if (deces.etat_civil_defunt == undefined || deces.etat_civil_defunt == \"\") {\r\n        message = \"Veuillez entrer un état civil correcte svp\";\r\n      } \r\n      \r\n      if (message != \"\") {\r\n        this.$swal({\r\n          type: \"warning\",\r\n          title: \"Les données fournies sont incorrcetes\",\r\n          text: message,\r\n          //footer: '<a href>Why do I have this issue?</a>'\r\n        });\r\n      }\r\n      return {\r\n        status: message === \"\",\r\n        message,\r\n      };\r\n    },\r\n    async doAddDeces() {\r\n      if (!this.verifierDeces(this.deces).status) return;\r\n\r\n      this.loading_message = \"Enregistrement du decès  en cours\";\r\n      this.is_doing_action = true;\r\n      let url = this.constants.api_url + \"/deces/\";\r\n      let response = null;\r\n\r\n      try {\r\n        let obj = {\r\n            ...this.deces,\r\n            user_id  : this.utilisateur.id\r\n          }\r\n        delete obj.id\r\n        let headers = new Headers();\r\n        headers.append(\"Content-type\", \"application/x-www-form-urlencoded\");\r\n        response = await fetch(url, {\r\n          method: \"post\",\r\n          cache: \"no-cache\",\r\n          headers  : {\r\n            \"Content-Type\" : \"application/json\"\r\n          },\r\n          body:   JSON.stringify(obj), \r\n        });\r\n      } catch (e) {\r\n        this.$swal({\r\n          type: \"error\",\r\n          title: \"La connexion au serveur a échoué\",\r\n          text: e.message,\r\n          //footer: '<a href>Why do I have this issue?</a>'\r\n        });\r\n        return;\r\n      }\r\n      let data = await response.json();\r\n      if (data.id > 1) {\r\n         \r\n        this.deces = this.default_deces; \r\n\r\n        this.$snotify.success(\"L'deces a été enregistré avec succès.\", {\r\n          timeout: 1500,\r\n          showProgressBar: false,\r\n          closeOnClick: false,\r\n          pauseOnHover: true,\r\n          \r\n        }); \r\n      } else {\r\n        this.$swal({\r\n          type: \"error\",\r\n          title: \"Une erreur est survenue\",\r\n          text: \"Status : \" + data.status + \"<br/>Message : \" + data.message,\r\n          //footer: '<a href>Why do I have this issue?</a>'\r\n        });\r\n      }\r\n      this.is_doing_action = false;\r\n    },\r\n    async doEditDeces() {\r\n      if (!this.verifierDeces(this.deces).status) return;\r\n\r\n      this.loading_message = \"Enregistrement du decès  en cours\";\r\n      this.is_doing_action = true;\r\n      let url = this.constants.api_url + \"/deces_update/\" + encodeURIComponent(this.$route.params.id_deces);\r\n      let response = null;\r\n\r\n      try {\r\n        let obj = {\r\n            ...this.deces,\r\n            user_id  : this.utilisateur.id\r\n          }\r\n        delete obj.id\r\n        let headers = new Headers();\r\n        headers.append(\"Content-type\", \"application/x-www-form-urlencoded\");\r\n        response = await fetch(url, {\r\n          method: \"post\",\r\n          cache: \"no-cache\",\r\n          headers  : {\r\n            \"Content-Type\" : \"application/json\"\r\n          },\r\n          body:   JSON.stringify(obj), \r\n        });\r\n      } catch (e) {\r\n        this.$swal({\r\n          type: \"error\",\r\n          title: \"La connexion au serveur a échoué\",\r\n          text: e.message,\r\n          //footer: '<a href>Why do I have this issue?</a>'\r\n        });\r\n        return;\r\n      }\r\n      let data = await response.json();\r\n      if (data.success ) {\r\n         \r\n        this.deces = this.default_deces; \r\n\r\n        this.$snotify.success(\"Le deces a été enregistré avec succès.\", {\r\n          timeout: 1500,\r\n          showProgressBar: false,\r\n          closeOnClick: false,\r\n          pauseOnHover: true,\r\n          \r\n        }); \r\n\r\n        this.$router.push(\"/admin/deces/liste-all-deces\")\r\n      } else {\r\n        this.$swal({\r\n          type: \"error\",\r\n          title: \"Une erreur est survenue\",\r\n          text: \"Status : \" + data.status + \"<br/>Message : \" + data.message,\r\n          //footer: '<a href>Why do I have this issue?</a>'\r\n        });\r\n      }\r\n      this.is_doing_action = false;\r\n    },\r\n    \r\n    async doUpdateProfilImage(id_deces) {\r\n      if (this.profile_image_changed && this.ifile) {\r\n        this.loading_message = \"Mise à jour de l'image en cours\";\r\n        let url =\r\n          this.constants.api_url + \"/decess/change-image.php?id_deces=\" + id_deces;\r\n\r\n        const formData = new FormData();\r\n        formData.append(\"img\", this.ifile, this.ifile.name);\r\n\r\n        let headers = new Headers();\r\n        headers.append(\"Content-type\", \"application/x-www-form-urlencoded\");\r\n        let response = await fetch(url, {\r\n          method: \"post\",\r\n          body: formData,\r\n          credentials: \"include\",\r\n          cache: \"no-cache\",\r\n          // headers,\r\n        });\r\n\r\n        let data = await response.json();\r\n        if (data.status == \"SUCCESS\") {\r\n          return {\r\n            status: \"SUCCESS\",\r\n          };\r\n        } else {\r\n          return data;\r\n        }\r\n      } else {\r\n        return { status: \"NO_CHANGE\" };\r\n      }\r\n    },\r\n    onProfilImageChange(event) {\r\n      let file = event.target.files[0];\r\n      this.filename = \"\";\r\n      this.preview_img = null; //defaultPreviewImg;\r\n      this.preview_img_base64 = \"\";\r\n      this.ifile = null;\r\n      if (!file) return;\r\n      let reader = new FileReader();\r\n      reader.onload = () => {\r\n        this.img_profil = reader.result;\r\n        let base64 = reader.result.substr(\r\n          reader.result.indexOf(\",\") + 1,\r\n          reader.result.length - (reader.result.indexOf(\",\") + 1)\r\n        );\r\n        this.filename = file.name;\r\n        this.ifile = file;\r\n        this.preview_img = this.img_profil;\r\n        this.preview_img_base64 = base64;\r\n\r\n        this.profile_image_changed = true;\r\n        // setImagesChanged(true);\r\n      };\r\n      reader.readAsDataURL(file);\r\n    },\r\n    deleteImage() {\r\n      this.filename = \"\";\r\n      this.preview_img = null; //defaultPreviewImg;\r\n      this.preview_img_base64 = \"\";\r\n      this.ifile = null;\r\n      this.profile_image_changed = true;\r\n    },\r\n    getImgObjModel(\r\n      id_deces,\r\n      nom_fichier = \"\",\r\n      id_image = -1,\r\n      description = \"\"\r\n    ) {\r\n      return {\r\n        description,\r\n        id_deces: id_deces,\r\n        code_contexte: \"IMG_JOUEUR\",\r\n        nom_fichier,\r\n        id_image,\r\n      };\r\n    },\r\n  },\r\n  async created() {\r\n    if (!this.add_mode) {\r\n     this.nbr_total_chargements += 1;\r\n      this.is_loading_decess = true;\r\n      this.loadDeces().then(() => this.verifierChargement()); \r\n    }\r\n    // this.loadCollections().then(() => this.verifierChargement()); \r\n\r\n    try {\r\n      this.utilisateur = JSON.parse(sessionStorage.getItem('utilisateur'));\r\n    } catch(e) {\r\n      this.utilisateur = {id : -1}\r\n    }\r\n  },\r\n  data() {\r\n    return {\r\n      constants,\r\n\r\n      nbr_total_chargements: 0,\r\n      nbr_charges: 0,\r\n\r\n      sortBy: \" \",\r\n      perPage: 10,\r\n      currentPage: 1,\r\n      sortDesc: false,\r\n      sortByFormatted: true,\r\n      filterByFormatted: true,\r\n      sortable: true,\r\n      mouvements_deces: [],\r\n      utilisateur : { id : -1},\r\n      fields: [\r\n        { key: \"date_mouvement\", sortable: true },\r\n        { key: \"etat_deces\", sortable: false },\r\n        { key: \"observation\", sortable: true },\r\n        // { key: \"action\", sortable: true },\r\n      ],\r\n\r\n      is_loading_decess: false,\r\n      is_doing_action: false,\r\n      listCollections : [],\r\n      deces: { \r\n        id: -1,\r\n        nom_defunt : \"\",\r\n        postnom_defunt : \"\",\r\n        prenom_defunt : \"\",\r\n        sexe_defunt : \"\",\r\n        lieu_naissance_defunt : \"\",\r\n        date_naissance_defunt : \"\",\r\n        proffesion_defunt : \"\",\r\n        etat_civil_defunt : \"\",\r\n        nom_conjoint : \"\",\r\n        date_deces : \"\",\r\n        nom_pere : \"\",\r\n        lieu_naissance_pere : \"\",\r\n        date_naissance_pere : \"\",\r\n        proffesion_pere : \"\",\r\n        nationalite_pere : \"\",\r\n        \r\n        nom_mere : \"\",\r\n        lieu_naissance_mere : \"\",\r\n        date_naissance_mere : \"\",\r\n        proffesion_mere : \"\",\r\n        nationalite_mere : \"\",\r\n      },\r\n      default_deces: { \r\n        id: -1,\r\n        nom_defunt : \"\",\r\n        postnom_defunt : \"\",\r\n        prenom_defunt : \"\",\r\n        sexe_defunt : \"\",\r\n        lieu_naissance_defunt : \"\",\r\n        date_naissance_defunt : \"\",\r\n        proffesion_defunt : \"\",\r\n        etat_civil_defunt : \"\",\r\n        nom_conjoint : \"\",\r\n        date_deces : \"\",\r\n        nom_pere : \"\",\r\n        lieu_naissance_pere : \"\",\r\n        date_naissance_pere : \"\",\r\n        proffesion_pere : \"\",\r\n        nationalite_pere : \"\",\r\n        \r\n        nom_mere : \"\",\r\n        lieu_naissance_mere : \"\",\r\n        date_naissance_mere : \"\",\r\n        proffesion_mere : \"\",\r\n        nationalite_mere : \"\",\r\n      },\r\n\r\n      loading_message: \"Chargement de données en cours\",\r\n\r\n      // sur la preview de l'image de profil\r\n      filename: \"\",\r\n      preview_img: null,\r\n      preview_img_base64: \"\",\r\n      ifile: null,\r\n      img_profil: null,\r\n      profile_image_changed: false,\r\n    };\r\n  },\r\n  components: { \r\n    DatePicker\r\n  },\r\n};\r\n</script>\r\n\r\n<template>\r\n  <section class=\"news-grid mt-5\">\r\n    <div class=\"page-header\">\r\n      <h3 class=\"page-title\">\r\n        {{\r\n          add_mode ? \"Enregistrer un decès\" : \"Editer un decès\"\r\n        }}\r\n      </h3>\r\n      <nav aria-label=\"breadcrumb\">\r\n        <ol class=\"breadcrumb\">\r\n          <li class=\"breadcrumb-item\">\r\n            <router-link :to=\"{ name: 'dashboard' }\"\r\n              >Dec7s</router-link\r\n            >\r\n          </li>\r\n          <li class=\"breadcrumb-item active\" aria-current=\"page\">\r\n            {{\r\n              add_mode\r\n                ? \"Enregistrer un decès\"\r\n                : \"Editerun decès\"\r\n            }}\r\n          </li>\r\n        </ol>\r\n      </nav>\r\n    </div>\r\n\r\n    <div class=\"mt-5 pt-4\" v-if=\"is_loading_decess\">\r\n      <div class=\"card\">\r\n        <div class=\"card-body\">\r\n          <div class=\"circle-loader\"></div>\r\n          <p class=\"text-center mt-4\">Chargement de données en cours</p>\r\n        </div>\r\n      </div>\r\n    </div>\r\n    <div class=\"row mt-5\" v-else-if=\"!is_loading_decess\">\r\n      <div class=\"col-md-12\">\r\n        <div class=\"card mb-3\" v-if=\"is_doing_action\">\r\n          <div class=\"card-body\">\r\n            <div class=\"circle-loader\"></div>\r\n            <p class=\"text-center mt-4\">{{ loading_message }}</p>\r\n          </div>\r\n        </div>\r\n\r\n        <div class=\"card mb-4\">\r\n          <div class=\"card-body\">   \r\n            <div class=\"row\">\r\n            <div class=\"col-md-7\">\r\n              <fieldset class=\"mt-4\" :disabled=\"is_doing_action\">\r\n                <b-form-group label=\"Nom du defunt :\" label-for=\"nom\">\r\n                    <b-form-input\r\n                    type=\"text\"\r\n                    class=\"mb-3\"\r\n                    id=\"nom\"\r\n                    v-model=\"deces.nom_defunt\"\r\n                    placeholder=\"Nom\"\r\n                    ></b-form-input>\r\n                </b-form-group>\r\n\r\n                <b-form-group label=\"Postnom du defunt :\" >\r\n                    <b-form-input\r\n                    type=\"text\"\r\n                    class=\"mb-3\" \r\n                    v-model=\"deces.postnom_defunt\"\r\n                    placeholder=\"Postnom du defunt\"\r\n                    ></b-form-input>\r\n                </b-form-group>\r\n\r\n                <b-form-group label=\"Prénom du defunt :\" >\r\n                    <b-form-input\r\n                    type=\"text\"\r\n                    class=\"mb-3\" \r\n                    v-model=\"deces.prenom_defunt\"\r\n                    placeholder=\"Postnom du defunt\"\r\n                    ></b-form-input>\r\n                </b-form-group>\r\n\r\n                <b-form-group label=\"Sexe :\" label-for=\"sexe_defun\">\r\n                    <select id=\"sexe_defunt\" v-model=\"deces.sexe_defunt\" class=\"form-control\">\r\n                        <option   :value=\"'Masculin'\">Masculin</option>\r\n                        <option   :value=\"'Feminin'\">Féminin</option>\r\n                    </select>\r\n                </b-form-group>\r\n\r\n\r\n                <b-form-group label=\"Etat civil du defunt :\" label-for=\"etatc_defunt\">\r\n                    <select id=\"etatc_defunt\" v-model=\"deces.etat_civil_defunt\" class=\"form-control\">\r\n                        <option   :value=\"'Celibataire'\">Célibataire</option>\r\n                        <option   :value=\"'Epoux'\">Marié</option>\r\n                        <!-- <option   :value=\"'d'\">Divorcé</option> -->\r\n                    </select>\r\n                </b-form-group>\r\n\r\n                <b-form-group label=\"Lieu de naissance du defunt :\" >\r\n                    <b-form-input\r\n                    type=\"text\"\r\n                    class=\"mb-3\" \r\n                    v-model=\"deces.lieu_naissance_defunt\"\r\n                    placeholder=\"Lieu de naissance du defunt\"\r\n                    ></b-form-input>\r\n                </b-form-group>\r\n\r\n                <b-form-group\r\n                  label=\"Date de naissance du défunt :\"\r\n                  label-for=\"date_naissance\"\r\n                >\r\n                  <date-picker\r\n                    v-model=\"deces.date_naissance_defunt\"\r\n                    valueType=\"format\"\r\n                    placeholder=\"Date de naissance du defunt\"\r\n                  ></date-picker>\r\n                </b-form-group>\r\n\r\n                <b-form-group label=\"Profession du defunt :\" >\r\n                    <b-form-input\r\n                    type=\"text\"\r\n                    class=\"mb-3\" \r\n                    v-model=\"deces.proffesion_defunt\"\r\n                    placeholder=\"Profession du defunt\"\r\n                    ></b-form-input>\r\n                </b-form-group>\r\n\r\n\r\n                \r\n\r\n                <b-form-group label=\"Nom du conjoint du defunt :\" >\r\n                    <b-form-input\r\n                    type=\"text\"\r\n                    class=\"mb-3\" \r\n                    v-model=\"deces.nom_conjoint\"\r\n                    placeholder=\"Conjoint du defunt\"\r\n                    ></b-form-input>\r\n                </b-form-group>\r\n\r\n                <b-form-group\r\n                  label=\"Date du decès du défunt :\"\r\n                  label-for=\"date_naissance\"\r\n                >\r\n                  <date-picker\r\n                    v-model=\"deces.date_deces\"\r\n                    valueType=\"format\"\r\n                    placeholder=\"Date de decès du defunt\"\r\n                  ></date-picker>\r\n                </b-form-group>\r\n\r\n\r\n                <!-- Infos sur le pere -->\r\n                <b-form-group label=\"Nom du père du defunt :\" >\r\n                    <b-form-input\r\n                    type=\"text\"\r\n                    class=\"mb-3\" \r\n                    v-model=\"deces.nom_pere\"\r\n                    placeholder=\"Nom du père du defunt\"\r\n                    ></b-form-input>\r\n                </b-form-group>\r\n\r\n                <b-form-group label=\"Lieu de naissance du père du defunt :\" >\r\n                    <b-form-input\r\n                    type=\"text\"\r\n                    class=\"mb-3\" \r\n                    v-model=\"deces.lieu_naissance_pere\"\r\n                    placeholder=\"Lieu de naissance du père du defunt\"\r\n                    ></b-form-input>\r\n                </b-form-group>\r\n\r\n                <b-form-group\r\n                  label=\"Date de naissance du pere du défunt :\"\r\n                  label-for=\"date_naissance\"\r\n                >\r\n                  <date-picker\r\n                    v-model=\"deces.date_naissance_pere\"\r\n                    valueType=\"format\"\r\n                    placeholder=\"Date de naissance du père du defunt\"\r\n                  ></date-picker>\r\n                </b-form-group>\r\n\r\n                <b-form-group label=\"Profession du père du defunt :\" >\r\n                    <b-form-input\r\n                    type=\"text\"\r\n                    class=\"mb-3\" \r\n                    v-model=\"deces.proffesion_pere\"\r\n                    placeholder=\"Profession du père du defunt\"\r\n                    ></b-form-input>\r\n                </b-form-group>\r\n\r\n                <b-form-group label=\"Nationalité du père du defunt :\" >\r\n                    <b-form-input\r\n                    type=\"text\"\r\n                    class=\"mb-3\" \r\n                    v-model=\"deces.nationalite_pere\"\r\n                    placeholder=\"Nationalité du père du defunt\"\r\n                    ></b-form-input>\r\n                </b-form-group>\r\n\r\n\r\n\r\n\r\n                <!-- Infos sur la mere -->\r\n                <b-form-group label=\"Nom de la mère du defunt :\" >\r\n                    <b-form-input\r\n                    type=\"text\"\r\n                    class=\"mb-3\" \r\n                    v-model=\"deces.nom_mere\"\r\n                    placeholder=\"Nom de la mère du defunt\"\r\n                    ></b-form-input>\r\n                </b-form-group>\r\n\r\n                <b-form-group label=\"Lieu de naissance de la mère du defunt :\" >\r\n                    <b-form-input\r\n                    type=\"text\"\r\n                    class=\"mb-3\" \r\n                    v-model=\"deces.lieu_naissance_mere\"\r\n                    placeholder=\"Lieu de naissance de la mère du defunt\"\r\n                    ></b-form-input>\r\n                </b-form-group>\r\n\r\n                <b-form-group\r\n                  label=\"Date de naissance de la mère du défunt :\"\r\n                  label-for=\"date_naissance\"\r\n                >\r\n                  <date-picker\r\n                    v-model=\"deces.date_naissance_mere\"\r\n                    valueType=\"format\"\r\n                    placeholder=\"Date de naissance de la mère du defunt\"\r\n                  ></date-picker>\r\n                </b-form-group>\r\n\r\n                <b-form-group label=\"Profession de la mère du defunt :\" >\r\n                    <b-form-input\r\n                    type=\"text\"\r\n                    class=\"mb-3\" \r\n                    v-model=\"deces.proffesion_mere\"\r\n                    placeholder=\"Profession de la mère du defunt\"\r\n                    ></b-form-input>\r\n                </b-form-group>\r\n\r\n                <b-form-group label=\"Nationalité de la mère du defunt :\" >\r\n                    <b-form-input\r\n                    type=\"text\"\r\n                    class=\"mb-3\" \r\n                    v-model=\"deces.nationalite_mere\"\r\n                    placeholder=\"Nationalité de la mère du defunt\"\r\n                    ></b-form-input>\r\n                </b-form-group>\r\n\r\n\r\n\r\n                <b-button\r\n                    type=\"submit\"\r\n                    :disabled=\"is_doing_action\"\r\n                    variant=\"success\"\r\n                    class=\"mr-2 mt-4\"\r\n                    @click=\"add_mode ? doAddDeces() : doEditDeces()\"\r\n                    >{{\r\n                    add_mode\r\n                        ? \"Enregistrer le decès\"\r\n                        : \"Enregistrer les modifications apportées\"\r\n                    }}</b-button\r\n                >\r\n                </fieldset>\r\n            </div>\r\n\r\n             \r\n            </div>  \r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n \r\n  </section>\r\n</template>\r\n<style scoped>\r\n.detail-deces-item {\r\n  font-size: 1.08em;\r\n}\r\n.biographie-text {\r\n  font-size: 1.1em;\r\n}\r\n</style>","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./DecesComponent.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./DecesComponent.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./DecesComponent.vue?vue&type=template&id=8057e7c8&scoped=true&\"\nimport script from \"./DecesComponent.vue?vue&type=script&lang=js&\"\nexport * from \"./DecesComponent.vue?vue&type=script&lang=js&\"\nimport style0 from \"./DecesComponent.vue?vue&type=style&index=0&id=8057e7c8&scoped=true&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"8057e7c8\",\n  null\n  \n)\n\nexport default component.exports"],"sourceRoot":""}